[gd_scene load_steps=11 format=3 uid="uid://cc5m8lpvnpnfv"]

[ext_resource type="PackedScene" uid="uid://jvambkvdo1tv" path="res://Scenes/Terrain/terrain-disk.tscn" id="1_rtcuc"]
[ext_resource type="Script" uid="uid://y3xj5surludi" path="res://Scripts/App/SimulationDirector.cs" id="1_tjpb3"]
[ext_resource type="PackedScene" uid="uid://bovnyi5ylhbh3" path="res://Scenes/Vehicles/vehicle-agent.tscn" id="2_nl4sy"]
[ext_resource type="Script" uid="uid://ytlhjpjwably" path="res://Scripts/App/ObstacleManager.cs" id="3_obmgr"]
[ext_resource type="PackedScene" uid="uid://bucsvkw710y1q" path="res://Scenes/Terrain/outer-tank.tscn" id="4_xklxq"]
[ext_resource type="PackedScene" uid="uid://cql6tbyhs0nf1" path="res://Scenes/Obstacles/cylinder-obstacle.tscn" id="6_xklxq"]
[ext_resource type="Script" uid="uid://chaide3q2pxey" path="res://Scripts/App/DynamicObstacleManager.cs" id="7_xklxq"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_tjpb3"]
sky_top_color = Color(0.361634, 0.42475, 0.999998, 1)

[sub_resource type="Sky" id="Sky_1bvp3"]
sky_material = SubResource("ProceduralSkyMaterial_tjpb3")

[sub_resource type="Environment" id="Environment_q02dg"]
background_mode = 2
sky = SubResource("Sky_1bvp3")
ambient_light_source = 3
ambient_light_color = Color(1, 1, 1, 1)
ambient_light_sky_contribution = 0.7
tonemap_mode = 3

[node name="SimulationDirector" type="Node3D"]
transform = Transform3D(0.984884, 0, 0, 0, 0.984884, 0, 0, 0, 0.984884, 0, 0, 0)
script = ExtResource("1_tjpb3")
VehicleScene = ExtResource("2_nl4sy")
VehiclesRootPath = NodePath("VehiclesRoot")
CameraTopPath = NodePath("Cameras/CameraTop")
CameraChasePath = NodePath("Cameras/CameraChase")
CameraFreePath = NodePath("Cameras/CameraFree")
CameraOrbitPath = NodePath("Cameras/CameraOrbit")
TerrainPath = NodePath("Terrain")
VehicleCount = 2
ObstacleManagerPath = NodePath("ObstacleManager")
DynamicObstacleManagerPath = NodePath("DynamicObstacleManager")

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_q02dg")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(-4.37114e-08, -0.766044, 0.642788, 0, 0.642788, 0.766044, -1, 3.34849e-08, -2.80972e-08, 20, 10, 0)
shadow_enabled = true

[node name="VehiclesRoot" type="Node3D" parent="."]

[node name="Cameras" type="Node3D" parent="."]

[node name="CameraTop" type="Camera3D" parent="Cameras"]
transform = Transform3D(1.0138, -0.0559882, -2.44732e-09, 0, -4.43822e-08, 1.01535, -0.0559882, -1.0138, -4.43147e-08, 0, 23.7706, 0)
current = true

[node name="CameraChase" type="Camera3D" parent="Cameras"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2.5, -5)

[node name="CameraFree" type="Camera3D" parent="Cameras"]
transform = Transform3D(-4.37114e-08, -0.5, 0.866025, 0, 0.866025, 0.5, -1, 2.18557e-08, -3.78552e-08, 0, 5, 0)

[node name="CameraOrbit" type="Camera3D" parent="Cameras"]
transform = Transform3D(1.01535, 0, 0, 0, 0.999925, 0.176314, 0, -0.176314, 0.999925, 0, 6, 17)

[node name="Terrain" parent="." instance=ExtResource("1_rtcuc")]
transform = Transform3D(0.999996, -0.00255967, 0.000692282, 0.00255972, 0.999997, -8.11034e-05, -0.000692072, 8.2874e-05, 1, 0, 0, 0)
Radius = 15.2
Frequency = 0.15
Octaves = 2
Smooth = 0.9
FloorY = -0.492442

[node name="outer-tank" parent="." instance=ExtResource("4_xklxq")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)
use_collision = true
collision_layer = 2

[node name="ObstacleManager" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.5, 0)
script = ExtResource("3_obmgr")

[node name="cylinder-obstacle1" parent="ObstacleManager" instance=ExtResource("6_xklxq")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.2449, 0, 3.00334)
Radius = 2.0

[node name="cylinder-obstacle2" parent="ObstacleManager" instance=ExtResource("6_xklxq")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 7.22641, 0, -0.308772)

[node name="DynamicObstacleManager" type="Node3D" parent="."]
script = ExtResource("7_xklxq")
